<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>On meanings • obus</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="On meanings">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">obus</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2025.12.24</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/on_meanings.html">On meanings</a></li>
    <li><a class="dropdown-item" href="../articles/overview.html">Package overview</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>On meanings</h1>
            
      

      <div class="d-none name"><code>on_meanings.Rmd</code></div>
    </div>

    
    
<p>One of the peculiarities, or should one say messiness of the DATRAS
exchange data is that the Data Type in HH record defines the aggregation
level of data fields reported in HL-record. Why this is so …</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://einarhjorleifsson.github.io/obus/">obus</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/cboettig/duckdbfs" class="external-link">duckdbfs</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Attaching package: 'dplyr'</span></span>
<span><span class="co">#&gt; The following objects are masked from 'package:stats':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     filter, lag</span></span>
<span><span class="co">#&gt; The following objects are masked from 'package:base':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     intersect, setdiff, setequal, union</span></span>
<span><span class="va">hh</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/dr_con.html">dr_con</a></span><span class="op">(</span><span class="st">"HH"</span><span class="op">)</span></span>
<span><span class="va">hl</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/dr_con.html">dr_con</a></span><span class="op">(</span><span class="st">"HL"</span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="datatype">DataType<a class="anchor" aria-label="anchor" href="#datatype"></a>
</h2>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">hh</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/count.html" class="external-link">count</a></span><span class="op">(</span><span class="va">DataType</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>p <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">n</span> <span class="op">/</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">n</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">*</span> <span class="fl">100</span>, <span class="fl">1</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="va">DataType</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># Source:     SQL [?? x 3]</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># Database:   DuckDB 1.4.3 [unknown@Linux 6.11.0-1018-azure:R 4.5.2/:memory:]</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># Ordered by: DataType</span></span></span>
<span><span class="co">#&gt;   DataType     n     p</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> C        <span style="text-decoration: underline;">49</span>160  33.5</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> P         <span style="text-decoration: underline;">1</span>683   1.1</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> R        <span style="text-decoration: underline;">95</span>092  64.7</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> S          969   0.7</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> <span style="color: #BB0000;">NA</span>          40   0</span></span></code></pre></div>
<p>The variable DataType resides in the HH-table is any of the
following:</p>
<ul>
<li>
<strong>R</strong>: R (Recorded by haul): the catch is sorted and
some species might be subsampled, so subfactors have to be &gt;= 1</li>
<li>
<strong>S</strong>: S (subsampled data): the catch is subsampled
before sorting, so all sub factors have to be &gt; 1</li>
<li>
<strong>C</strong>: C (Data by CPUE): the catch is calculated to
CPUE level, so all sub factors have to be 1</li>
<li>
<strong>P</strong>:</li>
<li>NA:</li>
</ul>
<p>Questions:</p>
<ul>
<li><p>Does it stay the same across a single survey, across
years</p></li>
<li><p>DataType <strong>R</strong>:</p></li>
<li><p>DataType <strong>S</strong>:</p></li>
<li><p>DataType <strong>C</strong>:</p></li>
<li><p>DataType <strong>P</strong>:</p></li>
</ul>
<div class="section level3">
<h3 id="totalno">TotalNo<a class="anchor" aria-label="anchor" href="#totalno"></a>
</h3>
<ul>
<li>DataType <strong>R</strong>: The total number of fish of one
species, sex, and category in the given haul.</li>
<li>DataType <strong>S</strong>: The total number of fish of one
species, sex, and category in the given haul.</li>
<li>DataType <strong>C</strong>: The total number of fish of one species
and sex in the given haul, raised to 1 hour hauling.</li>
<li>DataType <strong>P</strong>:</li>
</ul>
</div>
<div class="section level3">
<h3 id="catidentifier---subsample-identifier">CatIdentifier - subsample identifier???<a class="anchor" aria-label="anchor" href="#catidentifier---subsample-identifier"></a>
</h3>
<ul>
<li>DataType <strong>R</strong>: Category within species and sex. The
field can be used to categorize fish with different size or weight
categories. Different categories within one haul, species, sex, can have
different sub-factors. The field cannot be reported as 0, use 1 if only
one category is present.</li>
<li>DataType <strong>S</strong>: As above</li>
<li>DataType <strong>C</strong>: Only 1</li>
<li>DataType <strong>P</strong>:</li>
</ul>
</div>
<div class="section level3">
<h3 id="nomeas">NoMeas<a class="anchor" aria-label="anchor" href="#nomeas"></a>
</h3>
<ul>
<li>DataType <strong>R</strong>: Number of fish measured for the given
haul or sub-sample, species, and sex</li>
<li>DataType <strong>S</strong>: Same as above</li>
<li>DataType <strong>C</strong>: Same as above</li>
<li>DataType <strong>P</strong>:</li>
</ul>
</div>
<div class="section level3">
<h3 id="subfactor">SubFactor<a class="anchor" aria-label="anchor" href="#subfactor"></a>
</h3>
<ul>
<li>DataType <strong>R</strong>: Sub-sampling factor by haul, species,
sex, length. <strong>Value = or &gt; 1</strong>. Make sure that TotalNo
= NoMeas x SubFactor.</li>
<li>DataType <strong>S</strong>: Sub-sampling factor by haul, species,
sex, length. <strong>Value is always &gt; 1</strong>. Make sure that
TotalNo = NoMeas x SubFactor.</li>
<li>DataType <strong>C</strong>: Only 1.</li>
<li>DataType <strong>P</strong>:</li>
</ul>
</div>
<div class="section level3">
<h3 id="subwgt">SubWgt<a class="anchor" aria-label="anchor" href="#subwgt"></a>
</h3>
<ul>
<li>DataType <strong>R</strong>: The total weight of sub-sampled fish
reported in NoMeas.</li>
<li>DataType <strong>S</strong>: Same as above.</li>
<li>DataType <strong>C</strong>: The total weight of sub-sampled fish
reported in NoMeas or report -9.</li>
<li>DataType <strong>P</strong>:</li>
</ul>
</div>
<div class="section level3">
<h3 id="catcatchwgt">CatCatchWgt<a class="anchor" aria-label="anchor" href="#catcatchwgt"></a>
</h3>
<ul>
<li>DataType <strong>R</strong>: Catch weight of fish per species, sex,
and category in the given haul (as in TotalNo).</li>
<li>DataType <strong>S</strong>: Same as above</li>
<li>DataType <strong>C</strong>: Catch weight per species per haul,
raised to one hour of hauling.</li>
<li>DataType <strong>P</strong>:</li>
</ul>
</div>
<div class="section level3">
<h3 id="hlnoatlngt">HLNoAtLngt<a class="anchor" aria-label="anchor" href="#hlnoatlngt"></a>
</h3>
<ul>
<li>DataType <strong>R</strong>: The number of fish for this sex of this
species, in this category in the haul. Make sure that TotalNo = Sum
(HLNoAtLngt) x SubFactor or NoMeas = Sum (HLNoAtLngt)</li>
<li>DataType <strong>S</strong>: Same as above.</li>
<li>DataType <strong>C</strong>: The number of fish for this sex of this
species in the haul adjusted to one hour of catching. Make sure that
TotalNo = Sum (HLNoAtLngt).</li>
<li>DataType <strong>P</strong>:</li>
</ul>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Einar Hjorleifsson, Martin Pastoors, Vaishav Soni.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
