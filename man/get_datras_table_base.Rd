% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/dr_download_data2.R
\name{get_datras_table_base}
\alias{get_datras_table_base}
\title{Download and read DATRAS data, single-year or contiguous year-range only}
\usage{
get_datras_table_base(
  recordtype,
  survey,
  year,
  quarter,
  timeout = 300,
  verbose = TRUE,
  cache = TRUE,
  cache_dir = NULL,
  overwrite_cache = FALSE
)
}
\arguments{
\item{recordtype}{character Record type (one of "HH", "HL", "CA"; case-insensitive).}

\item{survey}{character Survey short code (e.g. "NS-IBTS").}

\item{year}{integer|numeric|character Single year (e.g. 1988), or a contiguous range specified as "1988:2025" or 1988:2025.}

\item{quarter}{integer|numeric|character Single quarter (1-4), or a contiguous range specified as "1:4" or 1:4.}

\item{timeout}{numeric Timeout in seconds for downloads via options(timeout). Default 300.}

\item{verbose}{logical Whether to print progress messages. Default TRUE.}

\item{cache}{logical Whether to cache results on disk. Default TRUE.}

\item{cache_dir}{character Optional directory for cache files. If NULL the default is ~/.datras_cache (or tempdir() if HOME not set).}

\item{overwrite_cache}{logical If TRUE, ignore an existing cache file and re-download (then update cache). Default FALSE.}
}
\value{
A data.frame
}
\description{
Accepts either a single year (e.g. 1988) or a contiguous range of years specified as:
\itemize{
\item a single integer (e.g. 1988)
\item a single "start:end" style string (e.g. "1988:2025")
\item or a numeric vector that is contiguous (e.g. 1988:2025)
}
}
\details{
Non-contiguous year lists (e.g. c(1988, 1990) or c("1988","1990")) are not allowed
and will produce an error.

Quarter accepts the same forms (single or contiguous range), but values must be in 1:4.

The recordtype argument must be one of "HH", "HL", or "CA" (case-insensitive).

This version always performs a single API request (using the DATRAS range syntax
when ranges are provided). The function supports simple file-based caching across R sessions.
}
